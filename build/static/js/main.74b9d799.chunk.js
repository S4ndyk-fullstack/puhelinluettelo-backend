(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{15:function(e,t,n){e.exports=n(37)},37:function(e,t,n){"use strict";n.r(t);var r=n(13),a=n(2),o=n(14),u=n.n(o),c=n(0),i=n.n(c),l=n(3),m=n.n(l),s="/api/persons",d=function(){return m.a.get(s).then((function(e){return e.data}))},f=function(e){return m.a.post(s,e).then((function(e){return e.data}))},p=function(e){return m.a.delete("".concat(s,"/").concat(e)).then((function(e){return e.data}))},b=function(e,t){return m.a.put("".concat(s,"/").concat(e),t).then((function(e){return e.data}))};function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var h=function(e){var t=e.addOrUpdate,n=e.newName,r=e.setNewName,a=e.newNumber,o=e.setNewNumber;return i.a.createElement("div",null,i.a.createElement("form",{onSubmit:t},i.a.createElement(O,{text:"name: ",value:n,set:r}),i.a.createElement(O,{text:"number: ",value:a,set:o}),i.a.createElement("button",{type:"submit"},"add")))},O=function(e){var t=e.text,n=e.value,r=e.set;return i.a.createElement("div",null,t," ",i.a.createElement("input",{value:n,onChange:function(e){return r(e.target.value)}}))},E=function(e){var t=e.removePerson,n=e.persons,r=e.search,a=n.filter((function(e){return e.name.toLowerCase().includes(r)}));return i.a.createElement("ul",null,a.map((function(e){return i.a.createElement(g,{key:e.id,person:e,removePerson:t})})))},g=function(e){var t=e.person,n=e.removePerson;return i.a.createElement("li",null,t.name," ",t.number,i.a.createElement("button",{onClick:function(){return n(t)}},"remove"))},w=function(e){var t=e.message;return null===t?null:i.a.createElement("div",{style:{color:"green",background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"}},t)},j=function(e){var t=e.message;return null===t?null:i.a.createElement("div",{style:{color:"red",background:"lightgrey",fontSize:"20px",borderStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"}},t)},y=function(e){var t=e.title;return i.a.createElement("h2",null,t)};u.a.render(i.a.createElement((function(e){var t=Object(c.useState)([]),n=Object(a.a)(t,2),o=n[0],u=n[1],l=Object(c.useState)(""),m=Object(a.a)(l,2),s=m[0],g=m[1],x=Object(c.useState)(""),N=Object(a.a)(x,2),P=N[0],S=N[1],k=Object(c.useState)(""),D=Object(a.a)(k,2),T=D[0],B=D[1],C=Object(c.useState)(null),F=Object(a.a)(C,2),R=F[0],U=F[1],z=Object(c.useState)(null),A=Object(a.a)(z,2),J=A[0],M=A[1];Object(c.useEffect)((function(){d().then((function(e){return u(e)}))}),[]);var I=function(e){f(e).then((function(e){u(o.concat(e)),U("Added ".concat(e.name)),setTimeout((function(){return U(null)}),3e3)})).catch((function(t){M("Failed to add ".concat(e.name," due to ").concat(t)),setTimeout((function(){return M(null)}),3e3)})),g(""),S("")},L=function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{name:s,number:P});b(e.id,t).then((function(t){u(o.map((function(n){return n.id===e.id?t:n}))),U("Updated ".concat(t.name)),setTimeout((function(){return U(null)}),3e3)})).catch((function(t){M("Failed to replace ".concat(e.name," due to ").concat(t)),setTimeout((function(){return M(null)}),3e3)})),g(""),S("")};return i.a.createElement("div",null,i.a.createElement(y,{title:"Phonebook"}),i.a.createElement(w,{message:R}),i.a.createElement(j,{message:J}),i.a.createElement(O,{text:"filter shown with ",value:T,set:B}),i.a.createElement(y,{title:"Add a new"}),i.a.createElement(h,{addOrUpdate:function(e){e.preventDefault();var t=o.find((function(e){return e.name===s}));if(t&&window.confirm("".concat(t.name," is already added to phonebook, replace the old number with a new one?")))return L(t);var n=Math.floor(1e4*Math.random());return I({name:s,number:P,id:n})},setNewName:g,newName:s,newNumber:P,setNewNumber:S}),i.a.createElement(y,{title:"Numbers"}),i.a.createElement(E,{persons:o,search:T,removePerson:function(e){window.confirm("Delete ".concat(e.name,"?"))&&p(e.id).then((function(){u(o.filter((function(t){return t.id!==e.id}))),U("Removed ".concat(e.name)),setTimeout((function(){return U(null)}),3e3)})).catch((function(t){M("Failed to remove ".concat(e.name," due to ").concat(t)),setTimeout((function(){return M(null)}),3e3)}))}}))}),null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.74b9d799.chunk.js.map